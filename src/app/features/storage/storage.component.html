<section class="h-full w-full flex flex-col">
  <p-breadcrumb class="max-w-full" [model]="breadCrumbItems()">
    <ng-template #item let-item>
      <a class="cursor-pointer" [routerLink]="item.routerLink">
        <span class="text-lg">{{ item.label }}</span>
      </a>
    </ng-template>
    <ng-template #separator> / </ng-template>
  </p-breadcrumb>

  <p-contextmenu
    #contextMenu
    [model]="settingsMenuItems"
    (onHide)="selectedItem = null"
  />
  <p-table
    [value]="folderItems()"
    [(contextMenuSelection)]="selectedItem"
    [contextMenu]="contextMenu"
    [tableStyle]="{ 'min-width': '50rem' }"
  >
    <ng-template #header let-columns>
      <tr>
        <th class="max-w-[50%]">Nombre</th>
        <th class="w-[300px]">Última modificación</th>
        <th class="w-[300px]">Tamaño del archivo</th>
      </tr>
    </ng-template>
    <ng-template #body let-item>
      <tr
        class="hover:bg-blue-50"
        [pContextMenuRow]="item"
        (dblclick)="item.type === 'folder' && goToFolder(item.id)"
      >
        <td>
          {{ item.name }}
        </td>
        <td>
          {{ item.updatedAt | date : "dd/MM/yyyy HH:mm:ss" }}
        </td>
        <td>{{ item.size | fileSize }}</td>
      </tr>
    </ng-template>
  </p-table>
</section>

<p-confirmdialog styleClass="confirm-dialog" />
